<div>
  <q-modal v-model="modalQuestion">
    <q-toolbar color="primary">
      <q-toolbar-title>
        Créer une nouvelle question
        <div slot="subtitle">Formulaire de création d'une nouvelle question </div>
      </q-toolbar-title>
      <q-btn color="green" @click.native="enregistrer()" style="margin-right: 10px">enregistrer</q-btn>
      <q-btn color="red" @click.native="fermer()">fermer</q-btn>
    </q-toolbar>
    <div style="padding: 15px" v-if="question == null">
      <div class="row">
        <div class="col-12">
          <q-select v-model="classe" float-label="Classe" :options="classes" @input="classeChange" />
        </div>
      </div>
      <div class="row">
        <div class="col-12">
          <q-select v-model="chapitre" float-label="Chapitre" :options="chapitres" @input="chapitreChange" />
        </div>
      </div>
      <div class="row">
        <div class="col-12">
          <q-select v-model="section" float-label="Section" :options="sections" />
        </div>
      </div>
      <div class="row">
        <div class="col-12">
          <q-select v-model="type" float-label="Type de question" :options="types" />
        </div>
      </div>
      <div class="row">
        <div class="col-12">
          <q-input v-model.lazy="enonce" float-label="Enoncé" type="textarea" />
        </div>
      </div>
      <div class="row">
        <div class="col-12">
          <q-input v-model.lazy="explication" float-label="Explication" type="textarea" />
        </div>
      </div>
      <div class="row" v-if="type=='schema'">
        <div class="col-12">
          <input type="file" ref="image" id="avatar" name="avatar" accept="image/png, image/jpeg">
        </div>
      </div>
      <div class="row">
        <div class="col-12">
          <q-input v-model.lazy="numero" float-label="Numéro" type="number" />
        </div>
      </div>
      <div class="row" style="padding: 10px">
        <div class="col-12">
          <q-btn color="green" @click.native="creerQuestion()">creer</q-btn>
        </div>
      </div>
    </div>
    <div v-else>
      <div class="row">
        <div class="col-12">
          Classe: {{classe}}
        </div>
      </div>
      <div class="row">
        <div class="col-12">
          Chapitre: {{chapitre}}
        </div>
      </div>
      <div class="row">
        <div class="col-12">
          Section: {{section}}
        </div>
      </div>
      <div class="row">
        <div class="col-12">
          Type de question: {{question.type}}
        </div>
      </div>
      <div class="row">
        <div class="col-12">
          Enoncé: {{question.enonce}}
        </div>
      </div>
      <div class="row">
        <div class="col-12">
          Explication: {{question.explication}}
        </div>
      </div>
      <div class="row">
        <div class="col-12">
          Numero: {{question.numero}}
        </div>
      </div>
      <h6>
        Propositions
        <q-btn icon="add" @click="clickAddQuestion()"></q-btn>
      </h6>
      <propositionqcm :addQuestion.sync="addQuestion" v-if="question.type == 'qcm' && addQuestion==true"></propositionqcm>
      <propositionrelationelle :addQuestion.sync="addQuestion" v-if="question.type == 'qcr' && addQuestion==true"></propositionrelationelle>
      <propositionschema :addQuestion.sync="addQuestion" v-if="question.type == 'schema' && addQuestion==true"></propositionschema>
      <div v-if="question.type == 'qcm'">
        <div class="row" v-for="(proposition,index) in propositions" :key="index">
          <div class="col-9">
            {{proposition.enonce}}
          </div>
          <div class="col-3">
            Solution: {{proposition.solution}}
          </div>
        </div>
      </div>
    </div>
  </q-modal>
</div>
